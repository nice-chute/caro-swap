{"ast":null,"code":"import _slicedToArray from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _inherits from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _regeneratorRuntime from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniel/dev/caroline-swap/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e6) { throw _e6; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e7) { didErr = true; err = _e7; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport t from \"bn.js\";\nexport { default as BN } from \"bn.js\";\nimport { sendAndConfirmRawTransaction as e, PublicKey as n, Transaction as r, TransactionInstruction as o, SystemProgram as i } from \"@solana/web3.js\";\nimport * as s from \"@solana/web3.js\";\nexport { s as web3 };\nimport { Buffer as a } from \"buffer\";\nimport c from \"camelcase\";\nimport * as u from \"@project-serum/borsh\";\nimport l from \"bs58\";\nimport { sha256 as d } from \"js-sha256\";\nimport * as h from \"base64-js\";\nimport * as f from \"assert\";\nimport p from \"assert\";\nimport { inflate as m } from \"pako\";\nimport g from \"eventemitter3\";\n\nvar v = /*#__PURE__*/function () {\n  function v(t, e, n) {\n    _classCallCheck(this, v);\n\n    this.connection = t, this.wallet = e, this.opts = n;\n  }\n\n  _createClass(v, [{\n    key: \"send\",\n    value: function () {\n      var _send = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(t, n, r) {\n        var o;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                void 0 === n && (n = []);\n                void 0 === r && (r = this.opts);\n                t.feePayer = this.wallet.publicKey;\n                _context.next = 5;\n                return this.connection.getRecentBlockhash(r.preflightCommitment);\n\n              case 5:\n                t.recentBlockhash = _context.sent.blockhash;\n                _context.next = 8;\n                return this.wallet.signTransaction(t);\n\n              case 8:\n                n.filter(function (t) {\n                  return void 0 !== t;\n                }).forEach(function (e) {\n                  t.partialSign(e);\n                });\n                o = t.serialize();\n                _context.next = 12;\n                return e(this.connection, o, r);\n\n              case 12:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function send(_x, _x2, _x3) {\n        return _send.apply(this, arguments);\n      }\n\n      return send;\n    }()\n  }, {\n    key: \"sendAll\",\n    value: function () {\n      var _sendAll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(t, n) {\n        var _this = this;\n\n        var r, o, i, s, _t2, _r;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                void 0 === n && (n = this.opts);\n                _context2.next = 3;\n                return this.connection.getRecentBlockhash(n.preflightCommitment);\n\n              case 3:\n                r = _context2.sent;\n                o = t.map(function (t) {\n                  var e = t.tx,\n                      n = t.signers;\n                  return void 0 === n && (n = []), e.feePayer = _this.wallet.publicKey, e.recentBlockhash = r.blockhash, n.filter(function (t) {\n                    return void 0 !== t;\n                  }).forEach(function (t) {\n                    e.partialSign(t);\n                  }), e;\n                });\n                _context2.next = 7;\n                return this.wallet.signAllTransactions(o);\n\n              case 7:\n                i = _context2.sent;\n                s = [];\n                _t2 = 0;\n\n              case 10:\n                if (!(_t2 < o.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                _r = i[_t2].serialize();\n                _context2.t0 = s;\n                _context2.next = 15;\n                return e(this.connection, _r, n);\n\n              case 15:\n                _context2.t1 = _context2.sent;\n\n                _context2.t0.push.call(_context2.t0, _context2.t1);\n\n              case 17:\n                _t2 += 1;\n                _context2.next = 10;\n                break;\n\n              case 20:\n                return _context2.abrupt(\"return\", s);\n\n              case 21:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function sendAll(_x4, _x5) {\n        return _sendAll.apply(this, arguments);\n      }\n\n      return sendAll;\n    }()\n  }, {\n    key: \"simulate\",\n    value: function () {\n      var _simulate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(t, e) {\n        var n,\n            r,\n            o,\n            i,\n            _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                n = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : this.opts;\n                void 0 === e && (e = []);\n                t.feePayer = this.wallet.publicKey;\n                _context4.next = 5;\n                return this.connection.getRecentBlockhash(null !== (r = n.preflightCommitment) && void 0 !== r ? r : this.opts.preflightCommitment);\n\n              case 5:\n                t.recentBlockhash = _context4.sent.blockhash;\n                _context4.next = 8;\n                return this.wallet.signTransaction(t);\n\n              case 8:\n                e.filter(function (t) {\n                  return void 0 !== t;\n                }).forEach(function (e) {\n                  t.partialSign(e);\n                });\n                _context4.next = 11;\n                return function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(t, e, n) {\n                    var r, o, i, s;\n                    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return t._recentBlockhash(t._disableBlockhashCaching);\n\n                          case 2:\n                            e.recentBlockhash = _context3.sent;\n                            r = e.serializeMessage();\n                            o = e._serialize(r).toString(\"base64\");\n                            i = [o, {\n                              encoding: \"base64\",\n                              commitment: n\n                            }];\n                            _context3.next = 8;\n                            return t._rpcRequest(\"simulateTransaction\", i);\n\n                          case 8:\n                            s = _context3.sent;\n\n                            if (!s.error) {\n                              _context3.next = 11;\n                              break;\n                            }\n\n                            throw new Error(\"failed to simulate transaction: \" + s.error.message);\n\n                          case 11:\n                            return _context3.abrupt(\"return\", s.result);\n\n                          case 12:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n\n                  return function (_x8, _x9, _x10) {\n                    return _ref.apply(this, arguments);\n                  };\n                }()(this.connection, t, null !== (i = null !== (o = n.commitment) && void 0 !== o ? o : this.opts.commitment) && void 0 !== i ? i : \"recent\");\n\n              case 11:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function simulate(_x6, _x7) {\n        return _simulate.apply(this, arguments);\n      }\n\n      return simulate;\n    }()\n  }], [{\n    key: \"defaultOptions\",\n    value: function defaultOptions() {\n      return {\n        preflightCommitment: \"recent\",\n        commitment: \"recent\"\n      };\n    }\n  }, {\n    key: \"local\",\n    value: function local(t, e) {\n      throw new Error(\"Provider local is not available on browser.\");\n    }\n  }, {\n    key: \"env\",\n    value: function env() {\n      throw new Error(\"Provider env is not available on browser.\");\n    }\n  }]);\n\n  return v;\n}();\n\nfunction y(t) {\n  b = t;\n}\n\nfunction w() {\n  return null === b ? v.local() : b;\n}\n\nvar b = null;\n\nvar _ = /*#__PURE__*/function (_Error) {\n  _inherits(_, _Error);\n\n  var _super = _createSuper(_);\n\n  function _(t) {\n    var _this2;\n\n    _classCallCheck(this, _);\n\n    _this2 = _super.call(this, t), _this2.name = \"IdlError\";\n    return _this2;\n  }\n\n  return _createClass(_);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar A = /*#__PURE__*/function (_Error2) {\n  _inherits(A, _Error2);\n\n  var _super2 = _createSuper(A);\n\n  function A(t, e) {\n    var _this3;\n\n    _classCallCheck(this, A);\n\n    for (var _len = arguments.length, n = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      n[_key - 2] = arguments[_key];\n    }\n\n    _this3 = _super2.call.apply(_super2, [this].concat(n)), _this3.code = t, _this3.msg = e;\n    return _this3;\n  }\n\n  _createClass(A, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.msg;\n    }\n  }], [{\n    key: \"parse\",\n    value: function parse(t, e) {\n      var n,\n          r = t.toString().split(\"custom program error: \");\n      if (2 !== r.length) return null;\n\n      try {\n        n = parseInt(r[1]);\n      } catch (t) {\n        return null;\n      }\n\n      var o = e.get(n);\n      return void 0 !== o ? new A(n, o, n + \": \" + o) : (o = I.get(n), void 0 !== o ? new A(n, o, n + \": \" + o) : null);\n    }\n  }]);\n\n  return A;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar I = new Map([[100, \"8 byte instruction identifier not provided\"], [101, \"Fallback functions are not supported\"], [102, \"The program could not deserialize the given instruction\"], [103, \"The program could not serialize the given instruction\"], [1e3, \"The program was compiled without idl instructions\"], [1001, \"The transaction was given an invalid program for the IDL instruction\"], [2e3, \"A mut constraint was violated\"], [2001, \"A has_one constraint was violated\"], [2002, \"A signer constraint was violated\"], [2003, \"A raw constraint was violated\"], [2004, \"An owner constraint was violated\"], [2005, \"A rent exempt constraint was violated\"], [2006, \"A seeds constraint was violated\"], [2007, \"An executable constraint was violated\"], [2008, \"A state constraint was violated\"], [2009, \"An associated constraint was violated\"], [2010, \"An associated init constraint was violated\"], [2011, \"A close constraint was violated\"], [2012, \"An address constraint was violated\"], [2013, \"Expected zero account discriminant\"], [2014, \"A token mint constraint was violated\"], [2015, \"A token owner constraint was violated\"], [2016, \"A mint mint authority constraint was violated\"], [2017, \"A mint freeze authority constraint was violated\"], [2018, \"A mint decimals constraint was violated\"], [2019, \"A space constraint was violated\"], [3e3, \"The account discriminator was already set on this account\"], [3001, \"No 8 byte discriminator was found on the account\"], [3002, \"8 byte discriminator did not match what was expected\"], [3003, \"Failed to deserialize the account\"], [3004, \"Failed to serialize the account\"], [3005, \"Not enough account keys given to the instruction\"], [3006, \"The given account is not mutable\"], [3007, \"The given account is owned by a different program than expected\"], [3008, \"Program ID was not as expected\"], [3009, \"Program account is not executable\"], [3010, \"The given account did not sign\"], [3011, \"The given account is not owned by the system program\"], [3012, \"The program expected this account to be already initialized\"], [3013, \"The given account is not a program data account\"], [4e3, \"The given state account does not have the correct address\"], [5e3, \"The API being used is deprecated and should no longer be used\"]]);\n\nvar E = /*#__PURE__*/function () {\n  function E() {\n    _classCallCheck(this, E);\n  }\n\n  _createClass(E, null, [{\n    key: \"fieldLayout\",\n    value: function fieldLayout(t, e) {\n      var n = void 0 !== t.name ? c(t.name) : void 0;\n\n      switch (t.type) {\n        case \"bool\":\n          return u.bool(n);\n\n        case \"u8\":\n          return u.u8(n);\n\n        case \"i8\":\n          return u.i8(n);\n\n        case \"u16\":\n          return u.u16(n);\n\n        case \"i16\":\n          return u.i16(n);\n\n        case \"u32\":\n          return u.u32(n);\n\n        case \"i32\":\n          return u.i32(n);\n\n        case \"u64\":\n          return u.u64(n);\n\n        case \"i64\":\n          return u.i64(n);\n\n        case \"u128\":\n          return u.u128(n);\n\n        case \"i128\":\n          return u.i128(n);\n\n        case \"bytes\":\n          return u.vecU8(n);\n\n        case \"string\":\n          return u.str(n);\n\n        case \"publicKey\":\n          return u.publicKey(n);\n\n        default:\n          if (\"vec\" in t.type) return u.vec(E.fieldLayout({\n            name: void 0,\n            type: t.type.vec\n          }, e), n);\n          if (\"option\" in t.type) return u.option(E.fieldLayout({\n            name: void 0,\n            type: t.type.option\n          }, e), n);\n\n          if (\"defined\" in t.type) {\n            var r = t.type.defined;\n            if (void 0 === e) throw new _(\"User defined types not provided\");\n            var o = e.filter(function (t) {\n              return t.name === r;\n            });\n            if (1 !== o.length) throw new _(\"Type not found: \".concat(JSON.stringify(t)));\n            return E.typeDefLayout(o[0], e, n);\n          }\n\n          if (\"array\" in t.type) {\n            var _r2 = t.type.array[0],\n                _o = t.type.array[1],\n                i = E.fieldLayout({\n              name: void 0,\n              type: _r2\n            }, e);\n            return u.array(i, _o, n);\n          }\n\n          throw new Error(\"Not yet implemented: \".concat(t));\n      }\n    }\n  }, {\n    key: \"typeDefLayout\",\n    value: function typeDefLayout(t) {\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var n = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (\"struct\" === t.type.kind) {\n        var r = t.type.fields.map(function (t) {\n          return E.fieldLayout(t, e);\n        });\n        return u.struct(r, n);\n      }\n\n      if (\"enum\" === t.type.kind) {\n        var _r3 = t.type.variants.map(function (t) {\n          var n = c(t.name);\n          if (void 0 === t.fields) return u.struct([], n);\n          var r = t.fields.map(function (t) {\n            if (void 0 === t.name) throw new Error(\"Tuple enum variants not yet implemented.\");\n            return E.fieldLayout(t, e);\n          });\n          return u.struct(r, n);\n        });\n\n        return void 0 !== n ? u.rustEnum(_r3).replicate(n) : u.rustEnum(_r3, n);\n      }\n\n      throw new Error(\"Unknown type kint: \".concat(t));\n    }\n  }]);\n\n  return E;\n}();\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\n\nvar _k = function k() {\n  return _k = Object.assign || function (t) {\n    for (var e, n = 1, r = arguments.length; n < r; n++) {\n      for (var o in e = arguments[n]) {\n        Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n      }\n    }\n\n    return t;\n  }, _k.apply(this, arguments);\n},\n    _L = function L() {\n  return _L = Object.assign || function (t) {\n    for (var e, n = 1, r = arguments.length; n < r; n++) {\n      for (var o in e = arguments[n]) {\n        Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n      }\n    }\n\n    return t;\n  }, _L.apply(this, arguments);\n};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\n\nfunction S(t) {\n  return t.toLowerCase();\n}\n\nvar x = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g],\n    $ = /[^A-Z0-9]+/gi;\n\nfunction T(t, e, n) {\n  return e instanceof RegExp ? t.replace(e, n) : e.reduce(function (t, e) {\n    return t.replace(e, n);\n  }, t);\n}\n\nfunction j(t, e) {\n  return void 0 === e && (e = {}), function (t, e) {\n    void 0 === e && (e = {});\n\n    for (var n = e.splitRegexp, r = void 0 === n ? x : n, o = e.stripRegexp, i = void 0 === o ? $ : o, s = e.transform, a = void 0 === s ? S : s, c = e.delimiter, u = void 0 === c ? \" \" : c, l = T(T(t, r, \"$1\\0$2\"), i, \"\\0\"), d = 0, h = l.length; \"\\0\" === l.charAt(d);) {\n      d++;\n    }\n\n    for (; \"\\0\" === l.charAt(h - 1);) {\n      h--;\n    }\n\n    return l.slice(d, h).split(\"\\0\").map(a).join(u);\n  }(t, _L({\n    delimiter: \".\"\n  }, e));\n}\n\nfunction P(t, e) {\n  if (\"enum\" === e.type.kind) {\n    var _n = e.type.variants.map(function (e) {\n      return void 0 === e.fields ? 0 : e.fields.map(function (e) {\n        if (\"object\" != typeof e || !(\"name\" in e)) throw new Error(\"Tuple enum variants not yet implemented.\");\n        return O(t, e.type);\n      }).reduce(function (t, e) {\n        return t + e;\n      });\n    });\n\n    return Math.max.apply(Math, _toConsumableArray(_n)) + 1;\n  }\n\n  return void 0 === e.type.fields ? 0 : e.type.fields.map(function (e) {\n    return O(t, e.type);\n  }).reduce(function (t, e) {\n    return t + e;\n  }, 0);\n}\n\nfunction O(t, e) {\n  var n, r;\n\n  switch (e) {\n    case \"bool\":\n    case \"u8\":\n    case \"i8\":\n    case \"bytes\":\n    case \"string\":\n      return 1;\n\n    case \"i16\":\n    case \"u16\":\n      return 2;\n\n    case \"u32\":\n    case \"i32\":\n      return 4;\n\n    case \"u64\":\n    case \"i64\":\n      return 8;\n\n    case \"u128\":\n    case \"i128\":\n      return 16;\n\n    case \"publicKey\":\n      return 32;\n\n    default:\n      if (\"vec\" in e) return 1;\n      if (\"option\" in e) return 1 + O(t, e.option);\n\n      if (\"defined\" in e) {\n        var o = null !== (r = null === (n = t.types) || void 0 === n ? void 0 : n.filter(function (t) {\n          return t.name === e.defined;\n        })) && void 0 !== r ? r : [];\n        if (1 !== o.length) throw new _(\"Type not found: \".concat(JSON.stringify(e)));\n        return P(t, o[0]);\n      }\n\n      if (\"array\" in e) {\n        var _n2 = e.array[0],\n            _r4 = e.array[1];\n        return O(t, _n2) * _r4;\n      }\n\n      throw new Error(\"Invalid type \".concat(JSON.stringify(e)));\n  }\n}\n\nfunction z(t, e) {\n  var n;\n  var r = \"\".concat(t, \":\").concat((void 0 === n && (n = {}), j(e, _k({\n    delimiter: \"_\"\n  }, n))));\n  return a.from(d.digest(r)).slice(0, 8);\n}\n\nvar D = /*#__PURE__*/function () {\n  function D(t) {\n    var _this4 = this;\n\n    _classCallCheck(this, D);\n\n    this.idl = t, this.ixLayout = D.parseIxLayout(t);\n    var e = new Map();\n    t.instructions.forEach(function (t) {\n      var n = z(\"global\", t.name);\n      e.set(l.encode(n), {\n        layout: _this4.ixLayout.get(t.name),\n        name: t.name\n      });\n    }), t.state && t.state.methods.map(function (t) {\n      var n = z(\"state\", t.name);\n      e.set(l.encode(n), {\n        layout: _this4.ixLayout.get(t.name),\n        name: t.name\n      });\n    }), this.sighashLayouts = e;\n  }\n\n  _createClass(D, [{\n    key: \"encode\",\n    value: function encode(t, e) {\n      return this._encode(\"global\", t, e);\n    }\n  }, {\n    key: \"encodeState\",\n    value: function encodeState(t, e) {\n      return this._encode(\"state\", t, e);\n    }\n  }, {\n    key: \"_encode\",\n    value: function _encode(t, e, n) {\n      var r = a.alloc(1e3),\n          o = c(e),\n          i = this.ixLayout.get(o);\n      if (!i) throw new Error(\"Unknown method: \".concat(o));\n      var s = i.encode(n, r),\n          u = r.slice(0, s);\n      return a.concat([z(t, e), u]);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(t) {\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"hex\";\n      \"string\" == typeof t && (t = \"hex\" === e ? a.from(t, \"hex\") : l.decode(t));\n      var n = l.encode(t.slice(0, 8)),\n          r = t.slice(8);\n      var o = this.sighashLayouts.get(n);\n      return o ? {\n        data: o.layout.decode(r),\n        name: o.name\n      } : null;\n    }\n  }, {\n    key: \"format\",\n    value: function format(t, e) {\n      return C.format(t, e, this.idl);\n    }\n  }], [{\n    key: \"parseIxLayout\",\n    value: function parseIxLayout(t) {\n      var e = (t.state ? t.state.methods : []).map(function (e) {\n        var n = e.args.map(function (e) {\n          var n, r;\n          return E.fieldLayout(e, Array.from([].concat(_toConsumableArray(null !== (n = t.accounts) && void 0 !== n ? n : []), _toConsumableArray(null !== (r = t.types) && void 0 !== r ? r : []))));\n        });\n        var r = c(e.name);\n        return [r, u.struct(n, r)];\n      }).concat(t.instructions.map(function (e) {\n        var n = e.args.map(function (e) {\n          var n, r;\n          return E.fieldLayout(e, Array.from([].concat(_toConsumableArray(null !== (n = t.accounts) && void 0 !== n ? n : []), _toConsumableArray(null !== (r = t.types) && void 0 !== r ? r : []))));\n        });\n        var r = c(e.name);\n        return [r, u.struct(n, r)];\n      }));\n      return new Map(e);\n    }\n  }]);\n\n  return D;\n}();\n\nvar C = /*#__PURE__*/function () {\n  function C() {\n    _classCallCheck(this, C);\n  }\n\n  _createClass(C, null, [{\n    key: \"format\",\n    value: function format(t, e, n) {\n      var r = n.instructions.filter(function (e) {\n        return t.name === e.name;\n      })[0];\n      if (void 0 === r) return console.error(\"Invalid instruction given\"), null;\n      var o = r.args.map(function (e) {\n        return {\n          name: e.name,\n          type: C.formatIdlType(e.type),\n          data: C.formatIdlData(e, t.data[e.name], n.types)\n        };\n      }),\n          i = C.flattenIdlAccounts(r.accounts);\n      return {\n        args: o,\n        accounts: e.map(function (t, e) {\n          return e < i.length ? _objectSpread({\n            name: i[e].name\n          }, t) : _objectSpread({\n            name: void 0\n          }, t);\n        })\n      };\n    }\n  }, {\n    key: \"formatIdlType\",\n    value: function formatIdlType(t) {\n      if (\"string\" == typeof t) return t;\n      if (\"vec\" in t) return \"Vec<\".concat(this.formatIdlType(t.vec), \">\");\n      if (\"option\" in t) return \"Option<\".concat(this.formatIdlType(t.option), \">\");\n      if (\"defined\" in t) return t.defined;\n      if (\"array\" in t) return \"Array<\".concat(t.array[0], \"; \").concat(t.array[1], \">\");\n      throw new Error(\"Unknown IDL type: \".concat(t));\n    }\n  }, {\n    key: \"formatIdlData\",\n    value: function formatIdlData(t, e, n) {\n      var _this5 = this;\n\n      if (\"string\" == typeof t.type) return e.toString();\n      if (t.type.vec) return \"[\" + e.map(function (e) {\n        return _this5.formatIdlData({\n          name: \"\",\n          type: t.type.vec\n        }, e);\n      }).join(\", \") + \"]\";\n      if (t.type.option) return null === e ? \"null\" : this.formatIdlData({\n        name: \"\",\n        type: t.type.option\n      }, e);\n\n      if (t.type.defined) {\n        if (void 0 === n) throw new Error(\"User defined types not provided\");\n        var r = n.filter(function (e) {\n          return e.name === t.type.defined;\n        });\n        if (1 !== r.length) throw new Error(\"Type not found: \".concat(t.type.defined));\n        return C.formatIdlDataDefined(r[0], e, n);\n      }\n\n      return \"unknown\";\n    }\n  }, {\n    key: \"formatIdlDataDefined\",\n    value: function formatIdlDataDefined(t, e, n) {\n      if (\"struct\" === t.type.kind) {\n        var r = t.type;\n        return \"{ \" + Object.keys(e).map(function (t) {\n          var o = r.fields.filter(function (e) {\n            return e.name === t;\n          })[0];\n          if (void 0 === o) throw new Error(\"Unable to find type\");\n          return t + \": \" + C.formatIdlData(o, e[t], n);\n        }).join(\", \") + \" }\";\n      }\n\n      if (0 === t.type.variants.length) return \"{}\";\n\n      if (t.type.variants[0].name) {\n        var _r5 = t.type.variants,\n            o = Object.keys(e)[0],\n            i = e[o],\n            _s = Object.keys(i).map(function (t) {\n          var e;\n          var s = i[t],\n              a = null === (e = _r5[o]) || void 0 === e ? void 0 : e.filter(function (e) {\n            return e.name === t;\n          })[0];\n          if (void 0 === a) throw new Error(\"Unable to find variant\");\n          return t + \": \" + C.formatIdlData(a, s, n);\n        }).join(\", \"),\n            _a = c(o, {\n          pascalCase: !0\n        });\n\n        return 0 === _s.length ? _a : \"\".concat(_a, \" { \").concat(_s, \" }\");\n      }\n\n      return \"Tuple formatting not yet implemented\";\n    }\n  }, {\n    key: \"flattenIdlAccounts\",\n    value: function flattenIdlAccounts(t, e) {\n      return t.map(function (t) {\n        var n = function (t) {\n          var e = t.replace(/([A-Z])/g, \" $1\");\n          return e.charAt(0).toUpperCase() + e.slice(1);\n        }(t.name);\n\n        if (t.accounts) {\n          var r = e ? \"\".concat(e, \" > \").concat(n) : n;\n          return C.flattenIdlAccounts(t.accounts, r);\n        }\n\n        return _objectSpread(_objectSpread({}, t), {}, {\n          name: e ? \"\".concat(e, \" > \").concat(n) : n\n        });\n      }).flat();\n    }\n  }]);\n\n  return C;\n}();\n\nvar B = /*#__PURE__*/function () {\n  function B(t) {\n    _classCallCheck(this, B);\n\n    if (void 0 === t.accounts) return void (this.accountLayouts = new Map());\n    var e = t.accounts.map(function (e) {\n      return [e.name, E.typeDefLayout(e, t.types)];\n    });\n    this.accountLayouts = new Map(e);\n  }\n\n  _createClass(B, [{\n    key: \"encode\",\n    value: function () {\n      var _encode2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(t, e) {\n        var n, r, o, i, s;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                n = a.alloc(1e3), r = this.accountLayouts.get(t);\n\n                if (r) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Unknown account: \".concat(t));\n\n              case 3:\n                o = r.encode(e, n);\n                i = n.slice(0, o), s = B.accountDiscriminator(t);\n                return _context5.abrupt(\"return\", a.concat([s, i]));\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function encode(_x11, _x12) {\n        return _encode2.apply(this, arguments);\n      }\n\n      return encode;\n    }()\n  }, {\n    key: \"decode\",\n    value: function decode(t, e) {\n      var n = e.slice(8),\n          r = this.accountLayouts.get(t);\n      if (!r) throw new Error(\"Unknown account: \".concat(t));\n      return r.decode(n);\n    }\n  }], [{\n    key: \"accountDiscriminator\",\n    value: function accountDiscriminator(t) {\n      return a.from(d.digest(\"account:\".concat(c(t, {\n        pascalCase: !0\n      })))).slice(0, 8);\n    }\n  }]);\n\n  return B;\n}();\n\nvar M = /*#__PURE__*/function () {\n  function M(t) {\n    _classCallCheck(this, M);\n\n    if (void 0 === t.events) return void (this.layouts = new Map());\n    var e = t.events.map(function (e) {\n      var n = {\n        name: e.name,\n        type: {\n          kind: \"struct\",\n          fields: e.fields.map(function (t) {\n            return {\n              name: t.name,\n              type: t.type\n            };\n          })\n        }\n      };\n      return [e.name, E.typeDefLayout(n, t.types)];\n    });\n    this.layouts = new Map(e), this.discriminators = new Map(void 0 === t.events ? [] : t.events.map(function (t) {\n      return [h.fromByteArray((e = t.name, a.from(d.digest(\"event:\".concat(e))).slice(0, 8))), t.name];\n      var e;\n    }));\n  }\n\n  _createClass(M, [{\n    key: \"decode\",\n    value: function decode(t) {\n      var e;\n\n      try {\n        e = a.from(h.toByteArray(t));\n      } catch (t) {\n        return null;\n      }\n\n      var n = h.fromByteArray(e.slice(0, 8)),\n          r = this.discriminators.get(n);\n      if (void 0 === r) return null;\n      var o = this.layouts.get(r);\n      if (!o) throw new Error(\"Unknown event: \".concat(r));\n      return {\n        data: o.decode(e.slice(8)),\n        name: r\n      };\n    }\n  }]);\n\n  return M;\n}();\n\nvar U = new Set([\"anchor-deprecated-state\"]),\n    K = new Map();\n\nfunction W(t) {\n  return void 0 !== K.get(t);\n}\n\nvar N = Object.freeze({\n  __proto__: null,\n  set: function set(t) {\n    if (!U.has(t)) throw new Error(\"Invalid feature\");\n    K.set(t, !0);\n  },\n  isSet: W\n});\n\nvar R = /*#__PURE__*/function () {\n  function R(t) {\n    _classCallCheck(this, R);\n\n    if (void 0 === t.state) throw new Error(\"Idl state not defined.\");\n    this.layout = E.typeDefLayout(t.state.struct, t.types);\n  }\n\n  _createClass(R, [{\n    key: \"encode\",\n    value: function () {\n      var _encode3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(t, e) {\n        var n, r, o, i;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                n = a.alloc(1e3);\n                r = this.layout.encode(e, n);\n                _context6.next = 4;\n                return Z(t);\n\n              case 4:\n                o = _context6.sent;\n                i = n.slice(0, r);\n                return _context6.abrupt(\"return\", a.concat([o, i]));\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function encode(_x13, _x14) {\n        return _encode3.apply(this, arguments);\n      }\n\n      return encode;\n    }()\n  }, {\n    key: \"decode\",\n    value: function decode(t) {\n      var e = t.slice(8);\n      return this.layout.decode(e);\n    }\n  }]);\n\n  return R;\n}();\n\nfunction Z(_x15) {\n  return _Z.apply(this, arguments);\n}\n\nfunction _Z() {\n  _Z = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee27(t) {\n    var e;\n    return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n      while (1) {\n        switch (_context27.prev = _context27.next) {\n          case 0:\n            e = W(\"anchor-deprecated-state\") ? \"account\" : \"state\";\n            return _context27.abrupt(\"return\", a.from(d.digest(\"\".concat(e, \":\").concat(t))).slice(0, 8));\n\n          case 2:\n          case \"end\":\n            return _context27.stop();\n        }\n      }\n    }, _callee27);\n  }));\n  return _Z.apply(this, arguments);\n}\n\nvar J = /*#__PURE__*/function () {\n  function J(t) {\n    _classCallCheck(this, J);\n\n    this.instruction = new D(t), this.accounts = new B(t), this.events = new M(t), t.state && (this.state = new R(t));\n  }\n\n  _createClass(J, [{\n    key: \"sighash\",\n    value: function sighash(t, e) {\n      return z(t, e);\n    }\n  }]);\n\n  return J;\n}();\n\nvar F = Object.freeze({\n  __proto__: null,\n  hash: function hash(t) {\n    return d(t);\n  }\n});\n\nfunction q(t) {\n  var e = new Map();\n  return t.errors && t.errors.forEach(function (t) {\n    var n;\n    var r = null !== (n = t.msg) && void 0 !== n ? n : t.name;\n    e.set(t.code, r);\n  }), e;\n}\n\nfunction G(t) {\n  for (var _len2 = arguments.length, e = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    e[_key2 - 1] = arguments[_key2];\n  }\n\n  if (t.args.length != e.length) throw new Error(\"Invalid argument length\");\n  var n = {};\n  var r = 0;\n  return t.args.forEach(function (t) {\n    n[t.name] = e[r], r += 1;\n  }), n;\n}\n\nfunction V(t) {\n  var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  t.forEach(function (t) {\n    if (\"accounts\" in t) V(t.accounts, e[t.name]);else if (void 0 === e[t.name]) throw new Error(\"Invalid arguments: \".concat(t.name, \" not provided.\"));\n  });\n}\n\nfunction Q(t) {\n  return t instanceof n ? t : new n(t);\n}\n\nfunction H(_x16, _x17) {\n  return _H.apply(this, arguments);\n}\n\nfunction _H() {\n  _H = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee28(t, e) {\n    var _o3, n, r;\n\n    return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n      while (1) {\n        switch (_context28.prev = _context28.next) {\n          case 0:\n            if (!(e.length <= 99)) {\n              _context28.next = 4;\n              break;\n            }\n\n            _context28.next = 3;\n            return X(t, e);\n\n          case 3:\n            return _context28.abrupt(\"return\", _context28.sent);\n\n          case 4:\n            _o3 = (n = e, r = 99, Array.apply(0, new Array(Math.ceil(n.length / r))).map(function (t, e) {\n              return n.slice(e * r, (e + 1) * r);\n            }));\n            _context28.next = 7;\n            return Promise.all(_o3.map(function (e) {\n              return X(t, e);\n            }));\n\n          case 7:\n            return _context28.abrupt(\"return\", _context28.sent.flat());\n\n          case 8:\n          case \"end\":\n            return _context28.stop();\n        }\n      }\n    }, _callee28);\n  }));\n  return _H.apply(this, arguments);\n}\n\nfunction X(_x18, _x19) {\n  return _X.apply(this, arguments);\n}\n\nfunction _X() {\n  _X = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee29(t, e) {\n    var r, o, i, _iterator, _step, _t4, _e5, _r9, _o4, _i2, _s3;\n\n    return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n      while (1) {\n        switch (_context29.prev = _context29.next) {\n          case 0:\n            r = [e.map(function (t) {\n              return t.toBase58();\n            }), {\n              commitment: \"recent\"\n            }];\n            _context29.next = 3;\n            return t._rpcRequest(\"getMultipleAccounts\", r);\n\n          case 3:\n            o = _context29.sent;\n\n            if (!o.error) {\n              _context29.next = 6;\n              break;\n            }\n\n            throw new Error(\"failed to get info about accounts \" + e.map(function (t) {\n              return t.toBase58();\n            }).join(\", \") + \": \" + o.error.message);\n\n          case 6:\n            p(void 0 !== o.result);\n            i = [];\n            _iterator = _createForOfIteratorHelper(o.result.value);\n            _context29.prev = 9;\n\n            _iterator.s();\n\n          case 11:\n            if ((_step = _iterator.n()).done) {\n              _context29.next = 24;\n              break;\n            }\n\n            _t4 = _step.value;\n            _e5 = null;\n\n            if (!(null !== _t4)) {\n              _context29.next = 21;\n              break;\n            }\n\n            if (o.result.value) {\n              _r9 = _t4.executable, _o4 = _t4.owner, _i2 = _t4.lamports, _s3 = _t4.data;\n              p(\"base64\" === _s3[1]), _e5 = {\n                executable: _r9,\n                owner: new n(_o4),\n                lamports: _i2,\n                data: a.from(_s3[0], \"base64\")\n              };\n            }\n\n            if (!(null === _e5)) {\n              _context29.next = 18;\n              break;\n            }\n\n            throw new Error(\"Invalid response\");\n\n          case 18:\n            i.push(_e5);\n            _context29.next = 22;\n            break;\n\n          case 21:\n            i.push(null);\n\n          case 22:\n            _context29.next = 11;\n            break;\n\n          case 24:\n            _context29.next = 29;\n            break;\n\n          case 26:\n            _context29.prev = 26;\n            _context29.t0 = _context29[\"catch\"](9);\n\n            _iterator.e(_context29.t0);\n\n          case 29:\n            _context29.prev = 29;\n\n            _iterator.f();\n\n            return _context29.finish(29);\n\n          case 32:\n            return _context29.abrupt(\"return\", i.map(function (t, n) {\n              return null === t ? null : {\n                publicKey: e[n],\n                account: t\n              };\n            }));\n\n          case 33:\n          case \"end\":\n            return _context29.stop();\n        }\n      }\n    }, _callee29, null, [[9, 26, 29, 32]]);\n  }));\n  return _X.apply(this, arguments);\n}\n\nvar Y = Object.freeze({\n  __proto__: null,\n  invoke: function () {\n    var _invoke = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(t, e, n, i) {\n      var s;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              t = Q(t), i || (i = w());\n              s = new r();\n              s.add(new o({\n                programId: t,\n                keys: null != e ? e : [],\n                data: n\n              }));\n              _context7.next = 5;\n              return i.send(s);\n\n            case 5:\n              return _context7.abrupt(\"return\", _context7.sent);\n\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function invoke(_x20, _x21, _x22, _x23) {\n      return _invoke.apply(this, arguments);\n    }\n\n    return invoke;\n  }(),\n  getMultipleAccounts: H\n});\n\nfunction tt(t, e, r) {\n  var o = a.concat([t.toBuffer(), a.from(e), r.toBuffer()]),\n      i = d.digest(o);\n  return new n(a.from(i));\n}\n\nfunction et(e, r) {\n  var o = a.alloc(0);\n  e.forEach(function (t) {\n    if (t.length > 32) throw new TypeError(\"Max seed length exceeded\");\n    o = a.concat([o, rt(t)]);\n  }), o = a.concat([o, r.toBuffer(), a.from(\"ProgramDerivedAddress\")]);\n  var i = d(new Uint8Array(o)),\n      s = new t(i, 16).toArray(void 0, 32);\n  if (n.isOnCurve(new Uint8Array(s))) throw new Error(\"Invalid seeds, address must fall off the curve\");\n  return new n(s);\n}\n\nfunction nt(t, e) {\n  var n,\n      r = 255;\n\n  for (; 0 != r;) {\n    try {\n      n = et(t.concat(a.from([r])), e);\n    } catch (t) {\n      if (t instanceof TypeError) throw t;\n      r--;\n      continue;\n    }\n\n    return [n, r];\n  }\n\n  throw new Error(\"Unable to find a viable program address nonce\");\n}\n\nvar rt = function rt(t) {\n  return t instanceof a ? t : t instanceof Uint8Array ? a.from(t.buffer, t.byteOffset, t.byteLength) : a.from(t);\n};\n\nfunction ot(_x24) {\n  return _ot.apply(this, arguments);\n}\n\nfunction _ot() {\n  _ot = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee30(t) {\n    var r,\n        _len3,\n        e,\n        _key3,\n        _yield$n$findProgramA,\n        _yield$n$findProgramA2,\n        o,\n        _args30 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee30$(_context30) {\n      while (1) {\n        switch (_context30.prev = _context30.next) {\n          case 0:\n            r = [a.from([97, 110, 99, 104, 111, 114])];\n\n            for (_len3 = _args30.length, e = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n              e[_key3 - 1] = _args30[_key3];\n            }\n\n            e.forEach(function (t) {\n              r.push(void 0 !== t.buffer ? t : Q(t).toBuffer());\n            });\n            _context30.next = 5;\n            return n.findProgramAddress(r, Q(t));\n\n          case 5:\n            _yield$n$findProgramA = _context30.sent;\n            _yield$n$findProgramA2 = _slicedToArray(_yield$n$findProgramA, 1);\n            o = _yield$n$findProgramA2[0];\n            return _context30.abrupt(\"return\", o);\n\n          case 9:\n          case \"end\":\n            return _context30.stop();\n        }\n      }\n    }, _callee30);\n  }));\n  return _ot.apply(this, arguments);\n}\n\nvar it = Object.freeze({\n  __proto__: null,\n  createWithSeedSync: tt,\n  createProgramAddressSync: et,\n  findProgramAddressSync: nt,\n  associated: ot\n});\nvar st = Object.freeze({\n  __proto__: null,\n  encode: function encode(t) {\n    return t.reduce(function (t, e) {\n      return t + e.toString(16).padStart(2, \"0\");\n    }, \"0x\");\n  },\n  decode: function decode(t) {\n    0 === t.indexOf(\"0x\") && (t = t.substr(2)), t.length % 2 == 1 && (t = \"0\" + t);\n    var e = t.match(/.{2}/g);\n    return null === e ? a.from([]) : a.from(e.map(function (t) {\n      return parseInt(t, 16);\n    }));\n  }\n});\n\nfunction at(t) {\n  return new TextDecoder(\"utf-8\").decode(t);\n}\n\nvar ct = Object.freeze({\n  __proto__: null,\n  decode: at,\n  encode: function encode(t) {\n    return new TextEncoder().encode(t);\n  }\n});\nvar ut = Object.freeze({\n  __proto__: null,\n  encode: function encode(t) {\n    return l.encode(t);\n  },\n  decode: function decode(t) {\n    return l.decode(t);\n  }\n});\nvar lt = Object.freeze({\n  __proto__: null,\n  encode: function encode(t) {\n    return h.fromByteArray(t);\n  },\n  decode: function decode(t) {\n    return a.from(h.toByteArray(t));\n  }\n}),\n    dt = Object.freeze({\n  __proto__: null,\n  hex: st,\n  utf8: ct,\n  bs58: ut,\n  base64: lt\n});\nvar ht = new n(\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"),\n    ft = new n(\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\");\nvar pt = Object.freeze({\n  __proto__: null,\n  associatedAddress: function () {\n    var _associatedAddress = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(_ref2) {\n      var t, e;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              t = _ref2.mint, e = _ref2.owner;\n              _context8.next = 3;\n              return n.findProgramAddress([e.toBuffer(), ht.toBuffer(), t.toBuffer()], ft);\n\n            case 3:\n              return _context8.abrupt(\"return\", _context8.sent[0]);\n\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    function associatedAddress(_x25) {\n      return _associatedAddress.apply(this, arguments);\n    }\n\n    return associatedAddress;\n  }()\n}),\n    mt = Object.freeze({\n  __proto__: null,\n  sha256: F,\n  rpc: Y,\n  publicKey: it,\n  bytes: dt,\n  token: pt,\n  features: N\n});\nvar gt = u.struct([u.publicKey(\"authority\"), u.vecU8(\"data\")]);\n\nfunction vt(t, e) {\n  var n, r;\n  var o = {};\n  var i = t.args ? t.args.length : 0;\n\n  if (e.length > i) {\n    if (e.length !== i + 1) throw new Error(\"provided too many arguments \".concat(e, \" to instruction \").concat(null == t ? void 0 : t.name, \" expecting: \").concat(null !== (r = null === (n = t.args) || void 0 === n ? void 0 : n.map(function (t) {\n      return t.name;\n    })) && void 0 !== r ? r : []));\n    o = e.pop();\n  }\n\n  return [e, o];\n}\n\nvar yt = /*#__PURE__*/function () {\n  function yt() {\n    _classCallCheck(this, yt);\n  }\n\n  _createClass(yt, null, [{\n    key: \"build\",\n    value: function build(t, e, n) {\n      if (\"_inner\" === t.name) throw new _(\"the _inner name is reserved\");\n\n      var r = function r() {\n        for (var _len4 = arguments.length, i = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          i[_key4] = arguments[_key4];\n        }\n\n        var _vt = vt(t, [].concat(i)),\n            _vt2 = _slicedToArray(_vt, 2),\n            s = _vt2[0],\n            a = _vt2[1];\n\n        V(t.accounts, a.accounts);\n        var c = r.accounts(a.accounts);\n        return void 0 !== a.remainingAccounts && c.push.apply(c, _toConsumableArray(a.remainingAccounts)), W(\"debug-logs\") && console.log(\"Outgoing account metas:\", c), new o({\n          keys: c,\n          programId: n,\n          data: e(t.name, G.apply(void 0, [t].concat(_toConsumableArray(s))))\n        });\n      };\n\n      return r.accounts = function (e) {\n        return yt.accountsArray(e, t.accounts, t.name);\n      }, r;\n    }\n  }, {\n    key: \"accountsArray\",\n    value: function accountsArray(t, e, n) {\n      return t ? e.map(function (e) {\n        if (void 0 !== (\"accounts\" in e ? e.accounts : void 0)) {\n          var _r6 = t[e.name];\n          return yt.accountsArray(_r6, e.accounts, n).flat();\n        }\n\n        {\n          var _r7 = e;\n\n          var _o2;\n\n          try {\n            _o2 = Q(t[e.name]);\n          } catch (t) {\n            throw new Error(\"Wrong input type for account \\\"\".concat(e.name, \"\\\" in the instruction accounts object\").concat(void 0 !== n ? ' for instruction \"' + n + '\"' : \"\", \". Expected PublicKey or string.\"));\n          }\n\n          return {\n            pubkey: _o2,\n            isWritable: _r7.isMut,\n            isSigner: _r7.isSigner\n          };\n        }\n      }).flat() : [];\n    }\n  }]);\n\n  return yt;\n}();\n\nvar wt = /*#__PURE__*/function () {\n  function wt() {\n    _classCallCheck(this, wt);\n  }\n\n  _createClass(wt, null, [{\n    key: \"build\",\n    value: function build(t, e, n, r) {\n      return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var _len5,\n            o,\n            _key5,\n            i,\n            _vt3,\n            _vt4,\n            s,\n            _e,\n            _args9 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                for (_len5 = _args9.length, o = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                  o[_key5] = _args9[_key5];\n                }\n\n                i = e.apply(void 0, o), _vt3 = vt(t, [].concat(o)), _vt4 = _slicedToArray(_vt3, 2), s = _vt4[1];\n                _context9.prev = 2;\n                _context9.next = 5;\n                return r.send(i, s.signers, s.options);\n\n              case 5:\n                return _context9.abrupt(\"return\", _context9.sent);\n\n              case 8:\n                _context9.prev = 8;\n                _context9.t0 = _context9[\"catch\"](2);\n                W(\"debug-logs\") && console.log(\"Translating error:\", _context9.t0);\n                _e = A.parse(_context9.t0, n);\n\n                if (!(null === _e)) {\n                  _context9.next = 14;\n                  break;\n                }\n\n                throw _context9.t0;\n\n              case 14:\n                throw _e;\n\n              case 15:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[2, 8]]);\n      }));\n    }\n  }]);\n\n  return wt;\n}();\n\nvar bt = /*#__PURE__*/function () {\n  function bt() {\n    _classCallCheck(this, bt);\n  }\n\n  _createClass(bt, null, [{\n    key: \"build\",\n    value: function build(t, e) {\n      return function () {\n        var o, i, s;\n\n        for (var _len6 = arguments.length, n = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n          n[_key6] = arguments[_key6];\n        }\n\n        var _vt5 = vt(t, [].concat(n)),\n            _vt6 = _slicedToArray(_vt5, 2),\n            a = _vt6[1],\n            c = new r();\n\n        if (a.preInstructions && a.instructions) throw new Error(\"instructions is deprecated, use preInstructions\");\n        return null === (o = a.preInstructions) || void 0 === o || o.forEach(function (t) {\n          return c.add(t);\n        }), null === (i = a.instructions) || void 0 === i || i.forEach(function (t) {\n          return c.add(t);\n        }), c.add(e.apply(void 0, n)), null === (s = a.postInstructions) || void 0 === s || s.forEach(function (t) {\n          return c.add(t);\n        }), c;\n      };\n    }\n  }]);\n\n  return bt;\n}();\n\nvar _t = /*#__PURE__*/function () {\n  function _t(t, e) {\n    var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : w();\n    var r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new J(t);\n\n    _classCallCheck(this, _t);\n\n    this.provider = n, this.coder = r, this._idl = t, this._programId = e, this._address = At(e), this._sub = null;\n\n    var _ref4 = function () {\n      var o;\n      var s = {},\n          a = {},\n          u = {};\n      return null === (o = t.state) || void 0 === o || o.methods.forEach(function (o) {\n        var l = yt.build(o, function (t, e) {\n          return r.instruction.encodeState(t, e);\n        }, e);\n\n        l.accounts = function (t) {\n          var r = function (t, e, n, r) {\n            if (\"new\" === n.name) {\n              var _nt = nt([], t),\n                  _nt2 = _slicedToArray(_nt, 1),\n                  _n3 = _nt2[0];\n\n              return [{\n                pubkey: e.wallet.publicKey,\n                isWritable: !1,\n                isSigner: !0\n              }, {\n                pubkey: At(t),\n                isWritable: !0,\n                isSigner: !1\n              }, {\n                pubkey: _n3,\n                isWritable: !1,\n                isSigner: !1\n              }, {\n                pubkey: i.programId,\n                isWritable: !1,\n                isSigner: !1\n              }, {\n                pubkey: t,\n                isWritable: !1,\n                isSigner: !1\n              }];\n            }\n\n            return V(n.accounts, r), [{\n              pubkey: At(t),\n              isWritable: !0,\n              isSigner: !1\n            }];\n          }(e, n, o, t);\n\n          return r.concat(yt.accountsArray(t, o.accounts, o.name));\n        };\n\n        var d = bt.build(o, l),\n            h = wt.build(o, d, q(t), n),\n            f = c(o.name);\n        s[f] = l, a[f] = d, u[f] = h;\n      }), [s, a, u];\n    }(),\n        _ref5 = _slicedToArray(_ref4, 3),\n        o = _ref5[0],\n        s = _ref5[1],\n        a = _ref5[2];\n\n    this.instruction = o, this.transaction = s, this.rpc = a;\n  }\n\n  _createClass(_t, [{\n    key: \"programId\",\n    get: function get() {\n      return this._programId;\n    }\n  }, {\n    key: \"fetch\",\n    value: function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var t, e, n;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                t = this.address();\n                _context10.next = 3;\n                return this.provider.connection.getAccountInfo(t);\n\n              case 3:\n                e = _context10.sent;\n\n                if (!(null === e)) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                throw new Error(\"Account does not exist \".concat(t.toString()));\n\n              case 6:\n                n = this._idl.state;\n\n                if (n) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                throw new Error(\"State is not specified in IDL.\");\n\n              case 9:\n                _context10.next = 11;\n                return Z(n.struct.name);\n\n              case 11:\n                if (!_context10.sent.compare(e.data.slice(0, 8))) {\n                  _context10.next = 13;\n                  break;\n                }\n\n                throw new Error(\"Invalid account discriminator\");\n\n              case 13:\n                return _context10.abrupt(\"return\", this.coder.state.decode(e.data));\n\n              case 14:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function fetch() {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n  }, {\n    key: \"address\",\n    value: function address() {\n      return this._address;\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(t) {\n      var _this6 = this;\n\n      if (null !== this._sub) return this._sub.ee;\n      var e = new g(),\n          n = this.provider.connection.onAccountChange(this.address(), function (t) {\n        var n = _this6.coder.state.decode(t.data);\n\n        e.emit(\"change\", n);\n      }, t);\n      return this._sub = {\n        ee: e,\n        listener: n\n      }, e;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      var _this7 = this;\n\n      null !== this._sub && this.provider.connection.removeAccountChangeListener(this._sub.listener).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _this7._sub = null;\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }))).catch(console.error);\n    }\n  }]);\n\n  return _t;\n}();\n\nfunction At(t) {\n  var _nt3 = nt([], t),\n      _nt4 = _slicedToArray(_nt3, 1),\n      e = _nt4[0];\n\n  return tt(e, \"unversioned\", t);\n}\n\nvar It = /*#__PURE__*/function () {\n  function It(t, e, n, r, o) {\n    _classCallCheck(this, It);\n\n    var i;\n    this._idlAccount = e, this._programId = n, this._provider = null != r ? r : w(), this._coder = null != o ? o : new J(t), this._size = 8 + (null !== (i = P(t, e)) && void 0 !== i ? i : 0);\n  }\n\n  _createClass(It, [{\n    key: \"size\",\n    get: function get() {\n      return this._size;\n    }\n  }, {\n    key: \"programId\",\n    get: function get() {\n      return this._programId;\n    }\n  }, {\n    key: \"provider\",\n    get: function get() {\n      return this._provider;\n    }\n  }, {\n    key: \"coder\",\n    get: function get() {\n      return this._coder;\n    }\n  }, {\n    key: \"fetchNullable\",\n    value: function () {\n      var _fetchNullable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(t) {\n        var e;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.getAccountInfo(t);\n\n              case 2:\n                e = _context12.sent;\n\n                if (!(null === e)) {\n                  _context12.next = 5;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", null);\n\n              case 5:\n                if (!B.accountDiscriminator(this._idlAccount.name).compare(e.data.slice(0, 8))) {\n                  _context12.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Invalid account discriminator\");\n\n              case 7:\n                return _context12.abrupt(\"return\", this._coder.accounts.decode(this._idlAccount.name, e.data));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function fetchNullable(_x26) {\n        return _fetchNullable.apply(this, arguments);\n      }\n\n      return fetchNullable;\n    }()\n  }, {\n    key: \"fetch\",\n    value: function () {\n      var _fetch2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(t) {\n        var e;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return this.fetchNullable(t);\n\n              case 2:\n                e = _context13.sent;\n\n                if (!(null === e)) {\n                  _context13.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Account does not exist \".concat(t.toString()));\n\n              case 5:\n                return _context13.abrupt(\"return\", e);\n\n              case 6:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function fetch(_x27) {\n        return _fetch2.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n  }, {\n    key: \"fetchMultiple\",\n    value: function () {\n      var _fetchMultiple = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(t) {\n        var _this8 = this;\n\n        var e, n;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return H(this._provider.connection, t.map(function (t) {\n                  return Q(t);\n                }));\n\n              case 2:\n                e = _context14.sent;\n                n = B.accountDiscriminator(this._idlAccount.name);\n                return _context14.abrupt(\"return\", e.map(function (t) {\n                  return null == t || n.compare(null == t ? void 0 : t.account.data.slice(0, 8)) ? null : _this8._coder.accounts.decode(_this8._idlAccount.name, null == t ? void 0 : t.account.data);\n                }));\n\n              case 5:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function fetchMultiple(_x28) {\n        return _fetchMultiple.apply(this, arguments);\n      }\n\n      return fetchMultiple;\n    }()\n  }, {\n    key: \"all\",\n    value: function () {\n      var _all = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(t) {\n        var _this9 = this;\n\n        var e;\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                e = B.accountDiscriminator(this._idlAccount.name);\n                _context15.next = 3;\n                return this._provider.connection.getProgramAccounts(this._programId, {\n                  commitment: this._provider.connection.commitment,\n                  filters: [{\n                    memcmp: {\n                      offset: 0,\n                      bytes: l.encode(t instanceof a ? a.concat([e, t]) : e)\n                    }\n                  }].concat(_toConsumableArray(Array.isArray(t) ? t : []))\n                });\n\n              case 3:\n                return _context15.abrupt(\"return\", _context15.sent.map(function (_ref7) {\n                  var t = _ref7.pubkey,\n                      e = _ref7.account;\n                  return {\n                    publicKey: t,\n                    account: _this9._coder.accounts.decode(_this9._idlAccount.name, e.data)\n                  };\n                }));\n\n              case 4:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function all(_x29) {\n        return _all.apply(this, arguments);\n      }\n\n      return all;\n    }()\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(t, e) {\n      var _this10 = this;\n\n      var n = Et.get(t.toString());\n      if (n) return n.ee;\n      var r = new g();\n      t = Q(t);\n\n      var o = this._provider.connection.onAccountChange(t, function (t) {\n        var e = _this10._coder.accounts.decode(_this10._idlAccount.name, t.data);\n\n        r.emit(\"change\", e);\n      }, e);\n\n      return Et.set(t.toString(), {\n        ee: r,\n        listener: o\n      }), r;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function () {\n      var _unsubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(t) {\n        var e;\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                e = Et.get(t.toString());\n\n                if (!e) {\n                  _context16.next = 8;\n                  break;\n                }\n\n                _context16.t0 = Et;\n\n                if (!_context16.t0) {\n                  _context16.next = 6;\n                  break;\n                }\n\n                _context16.next = 6;\n                return this._provider.connection.removeAccountChangeListener(e.listener).then(function () {\n                  Et.delete(t.toString());\n                }).catch(console.error);\n\n              case 6:\n                _context16.next = 9;\n                break;\n\n              case 8:\n                console.warn(\"Address is not subscribed\");\n\n              case 9:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function unsubscribe(_x30) {\n        return _unsubscribe.apply(this, arguments);\n      }\n\n      return unsubscribe;\n    }()\n  }, {\n    key: \"createInstruction\",\n    value: function () {\n      var _createInstruction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(t, e) {\n        var n;\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                n = this.size;\n                _context17.t0 = i;\n                _context17.t1 = this._provider.wallet.publicKey;\n                _context17.t2 = t.publicKey;\n                _context17.t3 = null != e ? e : n;\n                _context17.next = 7;\n                return this._provider.connection.getMinimumBalanceForRentExemption(null != e ? e : n);\n\n              case 7:\n                _context17.t4 = _context17.sent;\n                _context17.t5 = this._programId;\n                _context17.t6 = {\n                  fromPubkey: _context17.t1,\n                  newAccountPubkey: _context17.t2,\n                  space: _context17.t3,\n                  lamports: _context17.t4,\n                  programId: _context17.t5\n                };\n                return _context17.abrupt(\"return\", _context17.t0.createAccount.call(_context17.t0, _context17.t6));\n\n              case 11:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function createInstruction(_x31, _x32) {\n        return _createInstruction.apply(this, arguments);\n      }\n\n      return createInstruction;\n    }()\n  }, {\n    key: \"associated\",\n    value: function () {\n      var _associated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18() {\n        var e,\n            _args18 = arguments;\n        return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.next = 2;\n                return this.associatedAddress.apply(this, _args18);\n\n              case 2:\n                e = _context18.sent;\n                _context18.next = 5;\n                return this.fetch(e);\n\n              case 5:\n                return _context18.abrupt(\"return\", _context18.sent);\n\n              case 6:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function associated() {\n        return _associated.apply(this, arguments);\n      }\n\n      return associated;\n    }()\n  }, {\n    key: \"associatedAddress\",\n    value: function () {\n      var _associatedAddress2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19() {\n        var _len7,\n            t,\n            _key7,\n            _args19 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                for (_len7 = _args19.length, t = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n                  t[_key7] = _args19[_key7];\n                }\n\n                _context19.next = 3;\n                return ot.apply(void 0, [this._programId].concat(t));\n\n              case 3:\n                return _context19.abrupt(\"return\", _context19.sent);\n\n              case 4:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function associatedAddress() {\n        return _associatedAddress2.apply(this, arguments);\n      }\n\n      return associatedAddress;\n    }()\n  }, {\n    key: \"getAccountInfo\",\n    value: function () {\n      var _getAccountInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(t, e) {\n        return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                _context20.next = 2;\n                return this._provider.connection.getAccountInfo(Q(t), e);\n\n              case 2:\n                return _context20.abrupt(\"return\", _context20.sent);\n\n              case 3:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, this);\n      }));\n\n      function getAccountInfo(_x33, _x34) {\n        return _getAccountInfo.apply(this, arguments);\n      }\n\n      return getAccountInfo;\n    }()\n  }]);\n\n  return It;\n}();\n\nvar Et = new Map(),\n    kt = \"Program log: \".length;\n\nvar Lt = /*#__PURE__*/function () {\n  function Lt(t, e, n) {\n    _classCallCheck(this, Lt);\n\n    this._programId = t, this._provider = e, this._eventParser = new St(t, n), this._eventCallbacks = new Map(), this._eventListeners = new Map(), this._listenerIdCount = 0;\n  }\n\n  _createClass(Lt, [{\n    key: \"addEventListener\",\n    value: function addEventListener(t, e) {\n      var _this11 = this;\n\n      var n;\n      var r = this._listenerIdCount;\n      return this._listenerIdCount += 1, t in this._eventCallbacks || this._eventListeners.set(t, []), this._eventListeners.set(t, (null !== (n = this._eventListeners.get(t)) && void 0 !== n ? n : []).concat(r)), this._eventCallbacks.set(r, [t, e]), void 0 !== this._onLogsSubscriptionId || (this._onLogsSubscriptionId = this._provider.connection.onLogs(this._programId, function (t, e) {\n        t.err ? console.error(t) : _this11._eventParser.parseLogs(t.logs, function (t) {\n          var n = _this11._eventListeners.get(t.name);\n\n          n && n.forEach(function (n) {\n            var r = _this11._eventCallbacks.get(n);\n\n            if (r) {\n              var _r8 = _slicedToArray(r, 2),\n                  _n4 = _r8[1];\n\n              _n4(t.data, e.slot);\n            }\n          });\n        });\n      })), r;\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function () {\n      var _removeEventListener = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(t) {\n        var e, _e2, n, r;\n\n        return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                e = this._eventCallbacks.get(t);\n\n                if (e) {\n                  _context21.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Event listener \".concat(t, \" doesn't exist!\"));\n\n              case 3:\n                _e2 = _slicedToArray(e, 1), n = _e2[0];\n                r = this._eventListeners.get(n);\n\n                if (r) {\n                  _context21.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Event listeners don't exist for \".concat(n, \"!\"));\n\n              case 7:\n                this._eventCallbacks.delete(t);\n\n                r = r.filter(function (e) {\n                  return e !== t;\n                });\n                0 === r.length && this._eventListeners.delete(n);\n                _context21.t0 = 0 == this._eventCallbacks.size;\n\n                if (!_context21.t0) {\n                  _context21.next = 18;\n                  break;\n                }\n\n                f.ok(0 === this._eventListeners.size);\n                _context21.t1 = void 0 !== this._onLogsSubscriptionId;\n\n                if (!_context21.t1) {\n                  _context21.next = 18;\n                  break;\n                }\n\n                _context21.next = 17;\n                return this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId);\n\n              case 17:\n                this._onLogsSubscriptionId = void 0;\n\n              case 18:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21, this);\n      }));\n\n      function removeEventListener(_x35) {\n        return _removeEventListener.apply(this, arguments);\n      }\n\n      return removeEventListener;\n    }()\n  }]);\n\n  return Lt;\n}();\n\nvar St = /*#__PURE__*/function () {\n  function St(t, e) {\n    _classCallCheck(this, St);\n\n    this.coder = e, this.programId = t;\n  }\n\n  _createClass(St, [{\n    key: \"parseLogs\",\n    value: function parseLogs(t, e) {\n      var n = new $t(t),\n          r = new xt(n.next());\n      var o = n.next();\n\n      for (; null !== o;) {\n        var _this$handleLog = this.handleLog(r, o),\n            _this$handleLog2 = _slicedToArray(_this$handleLog, 3),\n            _t3 = _this$handleLog2[0],\n            _i = _this$handleLog2[1],\n            _s2 = _this$handleLog2[2];\n\n        _t3 && e(_t3), _i && r.push(_i), _s2 && r.pop(), o = n.next();\n      }\n    }\n  }, {\n    key: \"handleLog\",\n    value: function handleLog(t, e) {\n      return t.stack.length > 0 && t.program() === this.programId.toString() ? this.handleProgramLog(e) : [null].concat(_toConsumableArray(this.handleSystemLog(e)));\n    }\n  }, {\n    key: \"handleProgramLog\",\n    value: function handleProgramLog(t) {\n      if (t.startsWith(\"Program log:\")) {\n        var _e3 = t.slice(kt);\n\n        return [this.coder.events.decode(_e3), null, !1];\n      }\n\n      return [null].concat(_toConsumableArray(this.handleSystemLog(t)));\n    }\n  }, {\n    key: \"handleSystemLog\",\n    value: function handleSystemLog(t) {\n      var e = t.split(\":\")[0];\n      return null !== e.match(/^Program (.*) success/g) ? [null, !0] : e.startsWith(\"Program \".concat(this.programId.toString(), \" invoke\")) ? [this.programId.toString(), !1] : e.includes(\"invoke\") ? [\"cpi\", !1] : [null, !1];\n    }\n  }]);\n\n  return St;\n}();\n\nvar xt = /*#__PURE__*/function () {\n  function xt(t) {\n    _classCallCheck(this, xt);\n\n    var e;\n    var n = null === (e = /^Program (.*) invoke.*$/g.exec(t)) || void 0 === e ? void 0 : e[1];\n    if (!n) throw new Error(\"Could not find program invocation log line\");\n    this.stack = [n];\n  }\n\n  _createClass(xt, [{\n    key: \"program\",\n    value: function program() {\n      return f.ok(this.stack.length > 0), this.stack[this.stack.length - 1];\n    }\n  }, {\n    key: \"push\",\n    value: function push(t) {\n      this.stack.push(t);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      f.ok(this.stack.length > 0), this.stack.pop();\n    }\n  }]);\n\n  return xt;\n}();\n\nvar $t = /*#__PURE__*/function () {\n  function $t(t) {\n    _classCallCheck(this, $t);\n\n    this.logs = t;\n  }\n\n  _createClass($t, [{\n    key: \"next\",\n    value: function next() {\n      if (0 === this.logs.length) return null;\n      var t = this.logs[0];\n      return this.logs = this.logs.slice(1), t;\n    }\n  }]);\n\n  return $t;\n}();\n\nvar Tt = /*#__PURE__*/function () {\n  function Tt(t, e, n) {\n    _classCallCheck(this, Tt);\n\n    e = Q(e), n || (n = w()), this._idl = t, this._provider = n, this._programId = e, this._coder = new J(t), this._events = new Lt(this._programId, n, this._coder);\n\n    var _build = /*#__PURE__*/function () {\n      function _class() {\n        _classCallCheck(this, _class);\n      }\n\n      _createClass(_class, null, [{\n        key: \"build\",\n        value: function build(t, e, n, r) {\n          var o = {},\n              i = {},\n              s = {},\n              a = {},\n              u = q(t),\n              l = /*#__PURE__*/function () {\n            function _class2() {\n              _classCallCheck(this, _class2);\n            }\n\n            _createClass(_class2, null, [{\n              key: \"build\",\n              value: function build(t, e, n, r) {\n                if (void 0 !== t.state) return new _t(t, n, r, e);\n              }\n            }]);\n\n            return _class2;\n          }().build(t, e, n, r);\n\n          t.instructions.forEach(function (l) {\n            var d = yt.build(l, function (t, n) {\n              return e.instruction.encode(t, n);\n            }, n),\n                h = bt.build(l, d),\n                f = wt.build(l, h, u, r),\n                p = /*#__PURE__*/function () {\n              function _class3() {\n                _classCallCheck(this, _class3);\n              }\n\n              _createClass(_class3, null, [{\n                key: \"build\",\n                value: function build(t, e, n, r, o, i, s) {\n                  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22() {\n                    var _len8,\n                        a,\n                        _key8,\n                        c,\n                        _vt7,\n                        _vt8,\n                        u,\n                        l,\n                        _e4,\n                        d,\n                        h,\n                        _args22 = arguments;\n\n                    return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n                      while (1) {\n                        switch (_context22.prev = _context22.next) {\n                          case 0:\n                            for (_len8 = _args22.length, a = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n                              a[_key8] = _args22[_key8];\n                            }\n\n                            c = e.apply(void 0, a), _vt7 = vt(t, [].concat(a)), _vt8 = _slicedToArray(_vt7, 2), u = _vt8[1];\n                            _context22.prev = 2;\n                            _context22.next = 5;\n                            return r.simulate(c, u.signers, u.options);\n\n                          case 5:\n                            l = _context22.sent;\n                            _context22.next = 15;\n                            break;\n\n                          case 8:\n                            _context22.prev = 8;\n                            _context22.t0 = _context22[\"catch\"](2);\n                            W(\"debug-logs\") && console.log(\"Translating error:\", _context22.t0);\n                            _e4 = A.parse(_context22.t0, n);\n\n                            if (!(null === _e4)) {\n                              _context22.next = 14;\n                              break;\n                            }\n\n                            throw _context22.t0;\n\n                          case 14:\n                            throw _e4;\n\n                          case 15:\n                            if (!(void 0 === l)) {\n                              _context22.next = 17;\n                              break;\n                            }\n\n                            throw new Error(\"Unable to simulate transaction\");\n\n                          case 17:\n                            if (!l.value.err) {\n                              _context22.next = 19;\n                              break;\n                            }\n\n                            throw new Error(\"Simulate error: \".concat(l.value.err.toString()));\n\n                          case 19:\n                            d = l.value.logs;\n\n                            if (d) {\n                              _context22.next = 22;\n                              break;\n                            }\n\n                            throw new Error(\"Simulated logs not found\");\n\n                          case 22:\n                            h = [];\n                            return _context22.abrupt(\"return\", (s.events && new St(i, o).parseLogs(d, function (t) {\n                              h.push(t);\n                            }), {\n                              events: h,\n                              raw: d\n                            }));\n\n                          case 24:\n                          case \"end\":\n                            return _context22.stop();\n                        }\n                      }\n                    }, _callee22, null, [[2, 8]]);\n                  }));\n                }\n              }]);\n\n              return _class3;\n            }().build(l, h, u, r, e, n, t),\n                m = c(l.name);\n\n            i[m] = d, s[m] = h, o[m] = f, a[m] = p;\n          });\n          var d = t.accounts ? /*#__PURE__*/function () {\n            function _class4() {\n              _classCallCheck(this, _class4);\n            }\n\n            _createClass(_class4, null, [{\n              key: \"build\",\n              value: function build(t, e, n, r) {\n                var o;\n                var i = {};\n                return null === (o = t.accounts) || void 0 === o || o.forEach(function (o) {\n                  var s = c(o.name);\n                  i[s] = new It(t, o, n, r, e);\n                }), i;\n              }\n            }]);\n\n            return _class4;\n          }().build(t, e, n, r) : {};\n          return [o, i, s, d, a, l];\n        }\n      }]);\n\n      return _class;\n    }().build(t, this._coder, e, n),\n        _build2 = _slicedToArray(_build, 6),\n        r = _build2[0],\n        o = _build2[1],\n        i = _build2[2],\n        s = _build2[3],\n        a = _build2[4],\n        u = _build2[5];\n\n    this.rpc = r, this.instruction = o, this.transaction = i, this.account = s, this.simulate = a, this.state = u;\n  }\n\n  _createClass(Tt, [{\n    key: \"programId\",\n    get: function get() {\n      return this._programId;\n    }\n  }, {\n    key: \"idl\",\n    get: function get() {\n      return this._idl;\n    }\n  }, {\n    key: \"coder\",\n    get: function get() {\n      return this._coder;\n    }\n  }, {\n    key: \"provider\",\n    get: function get() {\n      return this._provider;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(t, e) {\n      return this._events.addEventListener(t, e);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function () {\n      var _removeEventListener2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(t) {\n        return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                _context23.next = 2;\n                return this._events.removeEventListener(t);\n\n              case 2:\n                return _context23.abrupt(\"return\", _context23.sent);\n\n              case 3:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n\n      function removeEventListener(_x36) {\n        return _removeEventListener2.apply(this, arguments);\n      }\n\n      return removeEventListener;\n    }()\n  }], [{\n    key: \"at\",\n    value: function () {\n      var _at = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee24(t, e) {\n        var n, r;\n        return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                n = Q(t);\n                _context24.next = 3;\n                return Tt.fetchIdl(n, e);\n\n              case 3:\n                r = _context24.sent;\n\n                if (r) {\n                  _context24.next = 6;\n                  break;\n                }\n\n                throw new Error(\"IDL not found for program: \".concat(t.toString()));\n\n              case 6:\n                return _context24.abrupt(\"return\", new Tt(r, n, e));\n\n              case 7:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24);\n      }));\n\n      function at(_x37, _x38) {\n        return _at.apply(this, arguments);\n      }\n\n      return at;\n    }()\n  }, {\n    key: \"fetchIdl\",\n    value: function () {\n      var _fetchIdl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee26(t, e) {\n        var r, o, i, s, a, c;\n        return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                e = null != e ? e : w();\n                r = Q(t);\n                _context26.next = 4;\n                return function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee25(t) {\n                    var e;\n                    return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n                      while (1) {\n                        switch (_context25.prev = _context25.next) {\n                          case 0:\n                            _context25.next = 2;\n                            return n.findProgramAddress([], t);\n\n                          case 2:\n                            e = _context25.sent[0];\n                            _context25.next = 5;\n                            return n.createWithSeed(e, \"anchor:idl\", t);\n\n                          case 5:\n                            return _context25.abrupt(\"return\", _context25.sent);\n\n                          case 6:\n                          case \"end\":\n                            return _context25.stop();\n                        }\n                      }\n                    }, _callee25);\n                  }));\n\n                  return function (_x41) {\n                    return _ref9.apply(this, arguments);\n                  };\n                }()(r);\n\n              case 4:\n                o = _context26.sent;\n                _context26.next = 7;\n                return e.connection.getAccountInfo(o);\n\n              case 7:\n                i = _context26.sent;\n\n                if (i) {\n                  _context26.next = 10;\n                  break;\n                }\n\n                return _context26.abrupt(\"return\", null);\n\n              case 10:\n                s = (a = i.data.slice(8), gt.decode(a));\n                c = m(s.data);\n                return _context26.abrupt(\"return\", JSON.parse(at(c)));\n\n              case 13:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee26);\n      }));\n\n      function fetchIdl(_x39, _x40) {\n        return _fetchIdl.apply(this, arguments);\n      }\n\n      return fetchIdl;\n    }()\n  }]);\n\n  return Tt;\n}();\n\nexport { It as AccountClient, B as AccountsCoder, J as Coder, M as EventCoder, Lt as EventManager, St as EventParser, _ as IdlError, D as InstructionCoder, Tt as Program, A as ProgramError, v as Provider, _t as StateClient, R as StateCoder, w as getProvider, q as parseIdlErrors, y as setProvider, vt as splitArgsAndCtx, G as toInstruction, Q as translateAddress, mt as utils, V as validateAccounts };","map":null,"metadata":{},"sourceType":"module"}